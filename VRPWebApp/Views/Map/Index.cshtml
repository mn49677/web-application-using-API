@model IEnumerable<String>;

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
    <script src="https://www.mapquestapi.com/sdk/leaflet/v2.2/mq-map.js?key=8Oowq9tE4hJGgiMMRKG2APyIddcJj6jM"></script>
    <script src="https://www.mapquestapi.com/sdk/leaflet/v2.2/mq-routing.js?key=8Oowq9tE4hJGgiMMRKG2APyIddcJj6jM"></script>

    <script type="text/javascript">
        window.onload = function () {

        var map,
            dir;
        map = L.map('map', {
            layers: MQ.mapLayer(),
            center: [45, 15],
            zoom: 9
        });


             @foreach(var item in Model) {
            <text>dir = MQ.routing.directions();</text>
            <text>dir.optimizedRoute(</text>
                @Html.Raw(item)
            <text>);</text>
                
            <text>var randomColor = '#' + (0x1000000 + (Math.random()) * 0xffffff).toString(16).substr(1, 6);</text>
            <text>map.addLayer(MQ.routing.routeLayer({
                 directions: dir,
                 ribbonOptions: {
                     ribbonDisplay: { color: randomColor, opacity: 0.5 },
                     widths: [15, 15, 15, 15, 14, 13, 12, 12, 12, 11, 11, 11, 11, 12, 13, 14, 15]
                 },
                 fitBounds: true
            }));

                </text>
            }

    }
    </script>
</head>
<body style='border:0; margin: 0'>
    <h2 style="font-family: 'Allerta', 'Arial Narrow', Arial, sans-serif; padding:1vh;">Prikaz ruta</h2>
    
    <div id='map' style='width: 100%; height:90vh;'></div>
</body>
</html>